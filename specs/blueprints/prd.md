# Backend Product Requirements Document (PRD)

> This document outlines the feature roadmap and requirements for the Sona backend (Strapi). It evolves as the product grows and serves as a reference for prioritization and feature completeness.

---

## Phase 1: Foundation (Current - Q4 2025)

### Institutions Management

**Objective:** Enable dynamic, slug-based institution pages on the frontend with rich banner content.

**Requirements:**

- Create an `institution` content type with fields:
  - `id` (auto-generated, unique identifier)
  - `name` (string, required, unique) — Display name of the institution
  - `slug` (UID, unique) — URL-friendly identifier, derived from name
  - `bannerImage` (media, required) — Hero banner background image from media library
  - `bannerTitlePrefix` (string, optional, max 100 chars) — Prefix part of the banner title
  - `bannerTitlePrefixColor` (string, optional, max 50 chars, default: "white") — Color for the prefix
  - `bannerTitleHighlight` (string, optional, max 100 chars) — Highlighted part of the banner title
  - `bannerTitleHighlightColor` (string, optional, max 50 chars, default: "#fbbf24") — Color for the highlight
  - `bannerSubtitle` (text, optional, max 500 chars) — Supporting text for banner
  - Timestamps (auto-generated by Strapi)

**API Endpoints:**

- `GET /api/institutions` — Fetch all institutions with pagination
- `GET /api/institutions/:id` — Fetch a single institution by ID
- `GET /api/institutions?filters[slug][$eq]=example-slug` — Fetch institution by slug
- `GET /api/institutions?populate=bannerImage` — Fetch institutions with populated banner images
- `GET /api/institutions/:id?populate=bannerImage` — Fetch single institution with populated banner

**Permissions:**

- Public read access (find, findOne) — includes all banner fields
- Admin-only write access (create, update, delete)

**Status:** Completed

---

## Phase 2: Content Expansion (Q1 2026)

### Planned Content Types

- [ ] **Courses** — Course offerings per institution
- [ ] **Placements** — Placement statistics and results
- [ ] **News/Blog** — Institution news and updates
- [ ] **Testimonials** — Student/alumni testimonials

### Planned Features

- [ ] Search & filtering on all content types
- [ ] Media management (images, documents)
- [ ] SEO metadata (title, description, canonical URL)
- [ ] Publishing workflow (draft, published, archived)

---

## Phase 3: Advanced Features (Q2 2026+)

### Planned Capabilities

- [ ] Multi-language support (i18n)
- [ ] Role-based access control (RBAC) for content creators
- [ ] Webhooks for frontend cache invalidation
- [ ] Analytics integration hooks
- [ ] Social media integration (feeds, sharing)

---

## Technical Requirements

### Performance

- All institution queries should complete in < 200ms at scale (1000+ records)
- Implement pagination defaults (25 items per page)
- Optimize slug lookups with database indexing

### Reliability

- Maintain 99.9% uptime for read operations
- Implement backup strategy for production database
- Document disaster recovery procedures

### Security

- Validate all incoming data against schema definitions
- Enforce unique constraints at the database level
- Rate-limit public API endpoints (if needed in future)

### Developer Experience

- Provide clear API documentation for all endpoints
- Maintain type definitions for frontend consumption
- Implement seed data for local development

### Media Management

- Integrate with Strapi media library for banner images
- Support image metadata (dimensions, MIME type, file size)
- Provide responsive image formats for different screen sizes
- Implement efficient media storage and retrieval

---

## Success Metrics

- Frontend can fetch institutions by slug without errors
- Public API endpoints respond within SLA
- All content types queryable and updateable via Strapi admin
- Documentation up-to-date and accurate
